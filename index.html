<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Vannila Validator</title>
	<style>
		.error{
			color: red;
			border-color: red;
		}
		.msg-error{
			font-size: 12px;
			color: red;
		}
	</style>
</head>
<body>

	<div id="teste"></div>
	
	<form action="#" id="form-1" class="xx">
		<div>
			<input type="text" class="required" data-message-error="Obrigatório" placeholder="name">
		</div>
		<div>
			<input type="email" class="required email" placeholder="email">
		</div>
		<div>
			<input type="tel" class="required phone" placeholder="phone">
		</div>
		<div>
			<input type="text" class="required integer" placeholder="integer">
		</div>
		<div>
			<input type="text" class="required digit" placeholder="digit">
		</div>
		<div>
			<input type="text" class="pattern" placeholder="pattern">
		</div>
		<div>
			<input type="text" class="pattern" data-pattern="[x]" data-flags="ig" data-message-error="Precisa conter um x" placeholder="custom pattern">
		</div>
		<div>
			<input type="text" class="custom-validate" data-validate-key="my-custom-validate" placeholder="custom validate">
		</div>
		<div>
			<input type="file" class="required">
		</div>
		<div>
			<textarea class="required" placeholder="message"></textarea>
		</div>
		<div>
			<label>Time</label>
			<input type="range" min="-10" max="10" value="0" class="required">
		</div>
		<div>
			<select class="required">
				<option value="">Selecione</option>
				<option value="1">Teste 1</option>
				<option value="2">Teste 2</option>
			</select>
		</div>
		<div>
			<label>
				<input type="radio" name="teste-radio" class="required cls-radio" checked value="teste1">
				teste 1
			</label>
			<label>
				<input type="radio" name="teste-radio" class="required" value="teste2">
				teste 2
			</label>
			<label>
				<input type="radio" name="teste-radio" class="required" value="teste2">
				teste 2
			</label>
		</div>
		<div>
			<label>
				<input type="checkbox" name="teste-checkbox" class="required" value="teste1">
				teste 1
			</label>
			<label>
				<input type="checkbox" name="teste-checkbox" class="required" value="teste2">
				teste 2
			</label>
		</div>
		<div>
			<button type="submit">Enviar</button>
		</div>
	</form>

	<form action="#" class="form-2" id="form-2">
		<div>
			<input type="text" class="required"  placeholder="name">
		</div>
		<div>
			<input type="text" class="custom-validate" data-validate-key="no-bad-words" placeholder="custom validate">
		</div>
		<div>
			<button type="submit">Enviar</button>
		</div>
	</form>

	<script src="vv-checks.js"></script>
	<script src="vv-elements.js"></script>
	<script src="vv-utils.js"></script>
	<script src="vanilla-validator.js"></script>

	<script type="text/javascript">
		var config = {
			container: '#form-1',
			selectors: {
				required: 'required'
			},
			messages: {
				required: 'Custom message required',
				email: 'Custom message email'
			},
			novalidateHTML5: false,
			callbacks: {
				beforeValidate: function(element){
					console.log('beforeValidateError')
				},
				afterValidate: function(element){
					console.log('afterValidateError')
				},
				eachFieldError: function(element){
					console.log('eachFieldError');
				},
				eachFieldSuccess: function(element){
					console.log('eachFieldSuccess');
				},
				requiredError: function(element){
					console.log('requiredError');
				},
				requiredSuccess: function(element){
					console.log('requiredSuccess');
				},
				emailError: function(element){
					console.log('emailError');
				},
				emailSuccess: function(element){
					console.log('emailSuccess');
				},
				integerError: function(element){
					console.log('integerError');
				},
				integerSuccess: function(element){
					console.log('integerSuccess');
				},
				digitError: function(element){
					console.log('digitError');
				},
				digitSuccess: function(element){
					console.log('digitSuccess');
				},
				patternError: function(element){
					console.log('patternError');
				},
				patternSuccess: function(element){
					console.log('patternSuccess');
				},
				error: function(element){
					console.log('error');
				},
				success: function(element){
					console.log('success');
				}
			}
		};

		var vv = new VanillaValidator(config);

		var config2 = {
			container: '#form-2',
			validationBy: 'onsubmit',
			selectors: {
				required: 'required'
			},
			novalidateHTML5: false,
			customValidates: {
				'no-bad-words' : {
					message: 'Forbiden words detected',
					fn: function(field, message, config){
						if(field.value === 'java' || field.value === 'php'){
							this.addValidationView(field, message);
							return false;
						}
						return true;
					}
				}
			},
			customViewErrors: {
				add: function(field, message){
					var messageContainer = document.createElement('SPAN');
					messageContainer.innerHTML = message;
					field.parentElement.insertBefore(messageContainer, field);
				},
				remove: function(field){
					if(field.parentElement.querySelector('span')){
						field.parentElement.querySelector('span').remove();
					}
				}
			}
		};
		var vv2 = new VanillaValidator(config2);


		// setTimeout(() => {
		// 	console.log(vv.container);
		// 	console.log(vv2.container);
		// }, 2000);


		/*
		var config = {
			selectors: {
				required: 'required',
				email: 'email'
			},
			messages: {
				required: 'campo obrigatório',
				email: 'email inválido'
			},
			novalidateHTML5: true
		};

		var userConfig = {
			selectors: {
				required: 'userReq'
			},
			novalidateHTML5: false
		};

		var target = {};

		var util = new VVUtils();
		util.mergeObjectsDeeply(target, config, userConfig);

		console.log(target);
		*/

		/*
		var $ = new VVElements();
		console.log($);

		console.log($.getElements('form'));
		console.log($.getElement('#form-1'));

		var form1 = $.getElement('#form-1');
		$.addClass(form1, 'teste');
		$.removeClass(form1, 'xx');
		console.log($.getChild('input', form1));

		console.log($.getRadiosByName('teste-radio', form1, 'cls-radio', true));

		console.log($.getCheckboxesByName('teste-checkbox', form1));

		var teste = $.getElement('#teste');
		$.inner(teste, '0');
		//*/

		/*

		console.log('Está vazio? ', vv.isEmpty(''));
		console.log('É um email? ', vv.isEmail('email@email.com'));
		console.log('É um inteiro? ', vv.isInteger(10000));
		console.log('É um digito? ', vv.isDigit('a165'));
		console.log('É uma url? ', vv.isUrl('https://www.google.com'));
		console.log('Tem menos que 5? ', vv.hasLessThan('weli', 5));
		console.log('Tem mais que 5? ', vv.hasMoreThan('welison', 5));
		console.log('Está entre 5 e 7? ', vv.hasRangeLength('welison', 5, 7));
		console.log('Tem exatamente 7? ', vv.hasEqualLength('welison', 7));
		console.log('É uma data? ', vv.isDate('12/12/2006'));
		console.log('É menor que 5? ', vv.isMin(4, 5));
		console.log('É maior que 5? ', vv.isMax(6, 5));
		console.log('Está entre 3 e 5? ', vv.isRange(4, 3, 5));
		console.log('É igual a 5? ', vv.equalTo(5, 5));
		console.log('É um cpf? ', vv.isCpf('061.052.500-02'));
		console.log('É um cnpj? ', vv.isCnpj('88.769.754/0001-51'));
		console.log('É um cnh? ', vv.isCnh('33776838759'));
		console.log('É um cep? ', vv.isCep('89806-267'));
		console.log('É um telefone? ', vv.isPhone('+51 (49) 0 9999-9900'));
		console.log('É um cartão de crédito? ', vv.isCreditCard('5511 4129 2741 1007'));
		console.log('Tem e extenção .jpg? ', vv.hasExtension('image.jpg', ['.jpg', '.png', '.gif']));
		console.log('É moeda? ', vv.isCurrency('R$ 231,45'));
		console.log('É um número? ', vv.isNumeric(6));
		console.log('É um objeto? ', vv.isObject({}));
		console.log('É uma função? ', vv.isFunction(function(){}));
		console.log('É uma função? ', vv.isArray([1, 2, 3]));
		console.log('É um elemento? ', vv.isHTMLElement(form1));

		//*/
	</script>
</body>
</html>