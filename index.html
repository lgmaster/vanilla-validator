<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Vannila Validator</title>
	<style>
		.error{
			color: red;
			border-color: red;
		}
		.msg-error{
			font-size: 12px;
			color: red;
		}
		.enviar{
			cursor: pointer;
			display: inline-block;
			background: #ccc;
			padding: 6px;
		}
	</style>
</head>
<body>

	<div id="teste"></div>
	
	<form action="#" id="form-1" class="xx">
		<div>
			<input type="text" class="required" data-message-error="ObrigatÃ³rio" placeholder="name">
		</div>
		<div>
			<input type="email" class="email" placeholder="email">
		</div>
		<div>
			<input type="tel" class="phone" placeholder="phone">
		</div>
		<div>
			<input type="text" class="integer" placeholder="integer">
		</div>
		<div>
			<input type="text" class="required digit" placeholder="digit">
		</div>
		<div>
			<input type="text" class="url" placeholder="url">
		</div>
		<div>
			<input type="text" class="less-than" data-max-length="7" placeholder="less than">
		</div>
		<div>
			<input type="text" class="pattern" placeholder="pattern">
		</div>
		<div>
			<input type="text" class="pattern" data-pattern="[x]" data-flags="ig" data-message-error="Precisa conter um x" placeholder="custom pattern">
		</div>
		<div>
			<input type="text" class="custom-validate" data-validate-key="my-custom-validate" placeholder="custom validate">
		</div>
		<div>
			<input type="file" class="required">
		</div>
		<div>
			<textarea class="required" placeholder="message"></textarea>
		</div>
		<div>
			<label>Time</label>
			<input type="range" min="-10" max="10" value="0" class="required">
		</div>
		<div>
			<select class="required">
				<option value="">Selecione</option>
				<option value="1">Teste 1</option>
				<option value="2">Teste 2</option>
			</select>
		</div>
		<div>
			<label>
				<input type="radio" name="teste-radio" class="required cls-radio" checked value="teste1">
				teste 1
			</label>
			<label>
				<input type="radio" name="teste-radio" class="required" value="teste2">
				teste 2
			</label>
			<label>
				<input type="radio" name="teste-radio" class="required" value="teste2">
				teste 2
			</label>
		</div>
		<div>
			<label>
				<input type="checkbox" name="teste-checkbox" class="required" value="teste1">
				teste 1
			</label>
			<label>
				<input type="checkbox" name="teste-checkbox" class="required" value="teste2">
				teste 2
			</label>
		</div>
		<div>
			<button type="submit">Enviar</button>
		</div>
	</form>

	<div class="form-2" id="form-2">
		<div>
			<input type="text" class="required" required  placeholder="name">
		</div>
		<div>
			<input type="text" class="custom-validate" data-validate-key="no-bad-words" placeholder="custom validate">
		</div>
		<div>
			<span class="enviar">Enviar</span>
		</div>
	</div>

	<script src="vv-checks.js"></script>
	<script src="vv-elements.js"></script>
	<script src="vv-utils.js"></script>
	<script src="vanilla-validator.js"></script>

	<script type="text/javascript">
		var config = {
			container: '#form-1',
			selectors: {
				required: 'required'
			},
			messages: {
				required: 'Custom message required',
				email: 'Custom message email'
			},
			novalidateHTML5: false,
			callbacks: {
				beforeValidate: function(element){
					console.log('beforeValidateError')
				},
				afterValidate: function(element){
					console.log('afterValidateError')
				},
				eachFieldError: function(element){
					console.log('eachFieldError');
				},
				eachFieldSuccess: function(element){
					console.log('eachFieldSuccess');
				},
				requiredError: function(element){
					console.log('requiredError');
				},
				requiredSuccess: function(element){
					console.log('requiredSuccess');
				},
				emailError: function(element){
					console.log('emailError');
				},
				emailSuccess: function(element){
					console.log('emailSuccess');
				},
				integerError: function(element){
					console.log('integerError');
				},
				integerSuccess: function(element){
					console.log('integerSuccess');
				},
				digitError: function(element){
					console.log('digitError');
				},
				digitSuccess: function(element){
					console.log('digitSuccess');
				},
				phoneError: function(element){
					console.log('phoneError');
				},
				phoneSuccess: function(element){
					console.log('phoneSuccess');
				},
				urlError: function(element){
					console.log('urlError');
				},
				urlSuccess: function(element){
					console.log('urlSuccess');
				},
				maxLengthError: function(element){
					console.log('maxLengthError');
				},
				maxLengthSuccess: function(element){
					console.log('maxLengthSuccess');
				},
				patternError: function(element){
					console.log('patternError');
				},
				patternSuccess: function(element){
					console.log('patternSuccess');
				},
				error: function(element){
					console.log('error');
				},
				success: function(element){
					console.log('success');
				}
			}
		};

		var vv = new VanillaValidator(config);

		var config2 = {
			container: '#form-2',
			validationBy: 'onclick',
			button: '.enviar',
			selectors: {
				required: 'required'
			},
			novalidateHTML5: true,
			customValidates: {
				'no-bad-words' : {
					message: 'Forbiden words detected',
					fn: function(field, message, config){
						if(field.value === 'java' || field.value === 'php'){
							this.addValidationView(field, message);
							return false;
						}
						return true;
					}
				}
			},
			customViewErrors: {
				add: function(field, message){
					var messageContainer = document.createElement('SPAN');
					messageContainer.innerHTML = message;
					field.parentElement.insertBefore(messageContainer, field);
					field.classList.add(this.config.selectors.error);
				},
				remove: function(field){
					if(field.parentElement.querySelector('span')){
						field.parentElement.querySelector('span').remove();
						field.classList.remove(this.config.selectors.error);
					}
				}
			},
			noFormSuccess: function(container){
				console.log('CONTAINER', container);
				alert('do something here');
			},
			onFormSubmit: function(container){
				console.log('FORM', container);
				alert('submitin your data here');
			}
		};
		var vv2 = new VanillaValidator(config2);
	</script>
</body>
</html>